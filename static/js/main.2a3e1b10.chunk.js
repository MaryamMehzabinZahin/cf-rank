(this["webpackJsonpcf-rank"]=this["webpackJsonpcf-rank"]||[]).push([[0],{53:function(t,e,n){},54:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var s=n(0),a=n.n(s),c=n(26),r=n.n(c),i=(n(53),n(54),n(10)),o=n(13),l=n(14),h=n(17),u=n(16),d=n(9),j=n.n(d),b=n(18),p=n(70),f=n(71),O=n(1);function x(t){var e=t.data,n=t.rowid;return null==e?Object(O.jsx)("tr",{children:Object(O.jsx)("td",{children:"called with null"})}):Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{"text-align":"left"},children:n}),Object(O.jsx)("td",{style:{"text-align":"left"},children:e.rank}),Object(O.jsx)("td",{style:{"text-align":"left"},children:e.party.members.map((function(t){return t.handle+" "}))}),Object(O.jsx)("td",{children:e.points}),Object(O.jsx)("td",{}),e.problemResults.map((function(t){return Object(O.jsx)("td",{children:t.points})}))]})}var m=n(27),v=n(74),g=n(43),y=n(42),k=n(68),I=n(69),D=n(72),N=n(73),C=n(23);function w(t){var e=t.url,n=t.contestID,a=Object(s.useState)(e),c=Object(m.a)(a,2),r=c[0],i=c[1],o=Object(s.useState)(n),l=Object(m.a)(o,2),h=l[0],u=l[1];console.log("Nav-props",t);var d=Object(O.jsx)("div",{className:"input-url",children:Object(O.jsx)(v.a,{children:Object(O.jsxs)(v.a.Row,{className:"align-items-center",children:[Object(O.jsxs)(g.a,{xs:"auto",children:[Object(O.jsx)(v.a.Label,{htmlFor:"inlineFormInput",srOnly:!0,children:"URL"}),Object(O.jsx)(y.a,{className:"mb-2",id:"inlineFormInput",placeholder:"city/organization cf url",defaultValue:e,onChange:function(t){return i(t.target.value)}})]}),Object(O.jsxs)(g.a,{xs:"auto",children:[Object(O.jsx)(v.a.Label,{htmlFor:"inlineFormInputGroup",srOnly:!0,children:"ContestID"}),Object(O.jsxs)(k.a,{className:"mb-2",children:[Object(O.jsx)(k.a.Prepend,{children:Object(O.jsx)(k.a.Text,{children:"@contest-"})}),Object(O.jsx)(y.a,{id:"inlineFormInputGroup",placeholder:"ContestID",value:h,onChange:function(t){u(t.target.value)}})]})]}),Object(O.jsx)(g.a,{xs:"auto",children:Object(O.jsx)(C.b,{to:"/contest/"+h+"?url="+r,children:Object(O.jsx)(I.a,{type:"submit",className:"mb-2",children:"Load"})})})]})},e+n)});return Object(O.jsx)("div",{children:Object(O.jsxs)(D.a,{bg:"dark",variant:"dark",size:"small",children:[Object(O.jsxs)(N.a,{className:"mr-auto",children:[Object(O.jsx)(N.a.Link,{href:"#selector/contests/"+h+"?url="+r,active:t.location.pathname.startsWith("/selector/contests"),children:"Contests"}),Object(O.jsx)(N.a.Link,{disabled:!0,active:t.location.pathname.startsWith("/contest"),children:"Ranklist"})]}),d]})})}var F=n(47),R=n(48),S="https://be-beam.swiftshopbd.com/";function U(t){return L.apply(this,arguments)}function L(){return(L=Object(b.a)(j.a.mark((function t(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(S+e,{"X-Requested-With":"cf"}).then((function(t){return t.text()})).then((function(t){var e,n=(new DOMParser).parseFromString(t,"text/html").querySelector("#pageContent > div.datatable.ratingsDatatable").innerHTML,s=Object(R.a)(n.matchAll('/profile/(.+?)"')),a="",c=Object(F.a)(s);try{for(c.s();!(e=c.n()).done;){var r=e.value;a=a.concat(r[1]+";")}}catch(i){c.e(i)}finally{c.f()}return a})).catch((function(t){console.log("Failed to fetch page: ",t)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(41),n(63);var W=n.p+"static/media/logo.6ce24c58.svg",A=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).state={data:null,contestID:1541,filterUrl:"",loading:!0,needRetry:!0,failed:!1},s}return Object(l.a)(n,[{key:"actionFetchRanks",value:function(){var t=Object(b.a)(j.a.mark((function t(e){var n,s,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,s="https://codeforces.com/api"+("/contest.standings?contestId="+this.state.contestID+"&handles=")+e,console.log("Fetching",s),t.next=5,fetch(s).catch((function(t){console.log(t),n=!0}));case 5:if(a=t.sent,!n){t.next=8;break}return t.abrupt("return");case 8:if(200!==a.status){t.next=15;break}return t.next=11,a.json();case 11:this.state.data=t.sent.result,"FINISHED"==this.state.data.contest.phase?this.state.needRetry=!1:this.state.needRetry=!0,t.next=16;break;case 15:this.state.needRetry=!1;case 16:this.state.loading=!1,this.forceUpdate();case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){try{var t=this.props,e=t.match.params.contestID,n=t.location.search.match("url=(.+)")[1];null!=e&&null!=n&&(this.state.contestID=e,this.state.filterUrl=n),console.log("state set",this.state.contestID,this.state.filterUrl)}catch(a){console.log("couldn't read params",a)}if(null==this.state.data)return 0==this.state.loading?Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"stopped",children:Object(O.jsx)("p",{children:"Not Available! "})})}):Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"loading",children:[Object(O.jsx)(p.a,{style:{width:"100px",height:"100px"},animation:"border",role:"status",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(O.jsx)("p",{children:"Constructing Ranklist..."})]})});var s=this.state.data;return Object(O.jsxs)("div",{children:["FINISHED"==s.contest.phase&&Object(O.jsx)("img",{src:W,className:"App-logo",alt:"logo"}),"FINISHED"!=s.contest.phase&&Object(O.jsx)("img",{src:W,className:"App-logo-animate",alt:"logo"}),Object(O.jsx)("div",{className:"con-tittle",children:s.contest.name}),Object(O.jsx)("div",{className:"ranklist",children:Object(O.jsxs)(f.a,{variant:"dark",size:"sm",responsive:"sm",striped:"true",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{"text-align":"left"},children:"#"}),Object(O.jsx)("th",{style:{"text-align":"left"},children:"Rank"}),Object(O.jsx)("th",{style:{"text-align":"left"},children:"Handle"}),Object(O.jsx)("th",{children:"Points"}),Object(O.jsx)("th",{style:{"text-align":"left"},children:" "}),s.problems.map((function(t){return Object(O.jsx)("th",{children:t.index})}))]})}),Object(O.jsx)("tbody",{children:s.rows.map((function(t,e){return Object(O.jsx)(x,{rowid:e+1,data:t},e)}))})]})})]})}},{key:"repeatedWork",value:function(){var t=Object(b.a)(j.a.mark((function t(){var e=this;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.state.loading=!0,t.abrupt("return",U(this.state.filterUrl).then((function(t){return console.log("users",t),e.actionFetchRanks(t)})).catch((function(t){return alert(t)})));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setRefreshIfNecessary",value:function(){var t=Object(b.a)(j.a.mark((function t(){var e=this;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.repeatedWork();case 2:this.state.needRetry&&(this.interval=setInterval((function(){e.repeatedWork()}),3e4));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setRefreshIfNecessary().then()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}}]),n}(a.a.Component),z=(n(64),function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"layout-header",children:Object(O.jsx)(w,Object(i.a)({},this.props),this.props.contestID+this.props.url)}),Object(O.jsx)("div",{className:"App-Container",children:this.props.children}),Object(O.jsx)("div",{className:"footer"})]})}}]),n}(a.a.Component)),M=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).state={url:"https://codeforces.com/ratings/organization/3403",contestID:1541},s}return Object(l.a)(n,[{key:"updateStateVars",value:function(t){try{this.setState({url:t.location.search.match("url=(.+)")[1],contestID:t.match.params.contestID})}catch(e){console.log("error setting rank-list-layout state",e)}console.log("con-layout-state",this.state)}},{key:"stateChangedLah",value:function(t){try{return this.state.url!==t.location.search.match("url=(.+)")[1]||this.state.contestID!==t.match.params.contestID}catch(e){return!0}}},{key:"componentDidMount",value:function(){this.updateStateVars(this.props)}},{key:"shouldComponentUpdate",value:function(t,e){return!!this.stateChangedLah(t)&&(this.updateStateVars(t),!0)}},{key:"render",value:function(){return Object(O.jsx)("div",{children:Object(O.jsx)(z,Object(i.a)(Object(i.a)({},this.props),{},{url:this.state.url,contestID:this.state.contestID,children:Object(O.jsx)(A,Object(i.a)(Object(i.a)({},this.props),{},{url:this.state.url,contestID:this.state.contestID}),"rank-list-"+this.state.url+this.state.contestID)}),"rank-list-layout"+this.state.url+this.state.contestID)})}}]),n}(a.a.Component);function V(t){var e=t.data,n=t.selected,s=t.url;return null==e?Object(O.jsx)("tr",{children:Object(O.jsx)("td",{children:"called with null"})}):Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)(C.b,{to:"/selector/contests/"+e.id+"?url="+s,children:Object(O.jsx)("input",{type:"radio",defaultChecked:n})})}),Object(O.jsx)("td",{style:{"text-align":"left"},children:e.name}),Object(O.jsx)("td",{style:{"text-align":"left"},children:e.id})]})}n(65);var P=function(t){return"/contest.list?gym="+t},H=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).state={data:null,contestID:1541,filterUrl:"",loading:!0,needRetry:!0,failed:!1},s}return Object(l.a)(n,[{key:"actionFetchContests",value:function(){var t=Object(b.a)(j.a.mark((function t(e){var n,s,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,s="https://codeforces.com/api"+P(e),console.log("Fetching Contests",s),t.next=5,fetch(s).catch((function(t){console.log(t),n=!0}));case 5:if(a=t.sent,!n){t.next=8;break}return t.abrupt("return");case 8:if(200!==a.status){t.next=14;break}return t.next=11,a.json();case 11:this.state.data=t.sent.result,t.next=14;break;case 14:this.state.loading=!1,this.forceUpdate();case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;try{var e=this.props,n=e.match.params.contestID,s=e.location.search.match("url=(.+)")[1];null!=n&&null!=s&&(this.state.contestID=n,this.state.filterUrl=s),console.log("state set",this.state.contestID,this.state.filterUrl)}catch(c){console.log("couldn't read params",c)}if(null==this.state.data)return 0==this.state.loading?Object(O.jsxs)("div",{children:[Object(O.jsx)(w,{contestID:this.state.contestID,url:this.state.filterUrl}),Object(O.jsx)("div",{className:"stopped",children:Object(O.jsx)("p",{children:"Not Available! "})})]}):Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"loading",children:[Object(O.jsx)(p.a,{style:{width:"100px",height:"100px"},animation:"border",role:"status",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(O.jsx)("p",{children:"Parsing Contests..."})]})});var a=this.state.data;return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"contests",children:Object(O.jsxs)(f.a,{variant:"dark",size:"sm",responsive:"sm",striped:"true",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{}),Object(O.jsx)("th",{children:"Contest Tittle"}),Object(O.jsx)("th",{children:"Contest ID"})]})}),Object(O.jsx)("tbody",{children:a.map((function(e,n){return Object(O.jsx)(V,{data:e,url:t.state.filterUrl,selected:e.id==t.state.contestID},e.id+t.state.contestID)}))})]})})})}},{key:"repeatedWork",value:function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.state.loading=!0,t.abrupt("return",this.actionFetchContests(!1).then((function(t){console.log("data",t)})).catch((function(t){return alert(t)})));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setRefreshIfNecessary",value:function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.repeatedWork();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setRefreshIfNecessary().then()}},{key:"componentWillUnmount",value:function(){}}]),n}(a.a.Component),T=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).state={url:"https://codeforces.com/ratings/organization/3403",contestID:1541},s}return Object(l.a)(n,[{key:"updateStateVars",value:function(t){try{this.setState({url:t.location.search.match("url=(.+)")[1],contestID:t.match.params.contestID})}catch(e){console.log("error setting contest-list-layout state",e)}console.log("con-layout-state",this.state)}},{key:"stateChangedLah",value:function(t){try{return this.state.url!==t.location.search.match("url=(.+)")[1]||this.state.contestID!==t.match.params.contestID}catch(e){return!0}}},{key:"componentDidMount",value:function(){this.updateStateVars(this.props)}},{key:"shouldComponentUpdate",value:function(t,e){return!!this.stateChangedLah(t)&&(this.updateStateVars(t),!0)}},{key:"render",value:function(){return Object(O.jsx)("div",{children:Object(O.jsx)(z,Object(i.a)(Object(i.a)({},this.props),{},{url:this.state.url,contestID:this.state.contestID,children:Object(O.jsx)(H,Object(i.a)(Object(i.a)({},this.props),{},{url:this.state.url,contestID:this.state.contestID}),"con-list-")}),"con-list-layout")})}}]),n}(a.a.Component),E=n(6);function B(){return Object(O.jsx)(C.a,{children:Object(O.jsx)("div",{className:"Switch-Route-Block",children:Object(O.jsxs)(E.d,{children:[Object(O.jsx)(E.b,{path:"/selector/contests/:contestID",render:function(t){return Object(O.jsx)(T,Object(i.a)({},t))}}),Object(O.jsx)(E.b,{path:"/contest/:contestID",render:function(t){return Object(O.jsx)(M,Object(i.a)({},t))}}),Object(O.jsx)(E.a,{from:"/",to:"/contest/1541?url=https://codeforces.com/ratings/organization/3403",component:T})]})})})}var q=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)("header",{className:"App-header",children:Object(O.jsx)(B,{})})})},G=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(e){var n=e.getCLS,s=e.getFID,a=e.getFCP,c=e.getLCP,r=e.getTTFB;n(t),s(t),a(t),c(t),r(t)}))};r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(q,{})}),document.getElementById("root")),G()}},[[66,1,2]]]);
//# sourceMappingURL=main.2a3e1b10.chunk.js.map