(this["webpackJsonpcf-rank"]=this["webpackJsonpcf-rank"]||[]).push([[0],{43:function(t,e,n){},44:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){"use strict";n.r(e);var s=n(0),a=n.n(s),r=n(28),c=n.n(r),i=(n(43),n(25)),l=(n(44),n(11)),o=n.n(l),h=n(15),u=n(29),j=n(30),d=n(37),b=n(35),p=n(57),f=n(58),x=n(1);function O(t){var e=t.data,n=t.rowid;return null==e?Object(x.jsx)("tr",{children:Object(x.jsx)("td",{children:"called with null"})}):Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{style:{"text-align":"left"},children:n}),Object(x.jsx)("td",{style:{"text-align":"left"},children:e.rank}),Object(x.jsx)("td",{style:{"text-align":"left"},children:e.party.members.map((function(t){return t.handle+" "}))}),Object(x.jsx)("td",{children:e.points}),Object(x.jsx)("td",{}),e.problemResults.map((function(t){return Object(x.jsx)("td",{children:t.points})}))]})}var m=n(24),v=n(59),g=n(32),y=n(31),I=n(56),k=n(60),D=n(18),N=function(t){var e=t.contestID,n=t.url,a=Object(s.useState)(n),r=Object(m.a)(a,2),c=r[0],i=r[1],l=Object(s.useState)(e),o=Object(m.a)(l,2),h=o[0],u=o[1];return Object(x.jsx)("div",{className:"input-url",children:Object(x.jsx)(v.a,{children:Object(x.jsxs)(v.a.Row,{className:"align-items-center",children:[Object(x.jsxs)(g.a,{xs:"auto",children:[Object(x.jsx)(v.a.Label,{htmlFor:"inlineFormInput",srOnly:!0,children:"URL"}),Object(x.jsx)(y.a,{className:"mb-2",id:"inlineFormInput",placeholder:"city/organization cf url",defaultValue:n,onChange:function(t){return i(t.target.value)}})]}),Object(x.jsxs)(g.a,{xs:"auto",children:[Object(x.jsx)(v.a.Label,{htmlFor:"inlineFormInputGroup",srOnly:!0,children:"ContestID"}),Object(x.jsxs)(I.a,{className:"mb-2",children:[Object(x.jsx)(I.a.Prepend,{children:Object(x.jsx)(I.a.Text,{children:"@"})}),Object(x.jsx)(y.a,{id:"inlineFormInputGroup",placeholder:"ContestID",defaultValue:e,onChange:function(t){return u(t.target.value)}})]})]}),Object(x.jsx)(g.a,{xs:"auto",children:Object(x.jsx)(D.b,{to:"/contest/"+h+"?url="+c,children:Object(x.jsx)(k.a,{type:"submit",className:"mb-2",children:"Fetch"})})})]})})})},F=n(34),w=n(36),R="https://be-beam.swiftshopbd.com/";function C(t){return S.apply(this,arguments)}function S(){return(S=Object(h.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(R+e,{"X-Requested-With":"cf"}).then((function(t){return t.text()})).then((function(t){var e,n=(new DOMParser).parseFromString(t,"text/html").querySelector("#pageContent > div.datatable.ratingsDatatable").innerHTML,s=Object(w.a)(n.matchAll('/profile/(.+?)"')),a="",r=Object(F.a)(s);try{for(r.s();!(e=r.n()).done;){var c=e.value;a=a.concat(c[1]+";")}}catch(i){r.e(i)}finally{r.f()}return a})).catch((function(t){console.log("Failed to fetch page: ",t)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(53),n(54);var U=n.p+"static/media/logo.6ce24c58.svg",L=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(t){var s;return Object(u.a)(this,n),(s=e.call(this,t)).state={data:null,contestID:1541,filterUrl:"https://codeforces.com/ratings/organization/3403",loading:!0,needRetry:!0,failed:!1},s}return Object(j.a)(n,[{key:"actionFetchRanks",value:function(){var t=Object(h.a)(o.a.mark((function t(e){var n,s,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,s="https://codeforces.com/api"+("/contest.standings?contestId="+this.state.contestID+"&handles=")+e,console.log("Fetching",s),t.next=5,fetch(s).catch((function(t){console.log(t),n=!0}));case 5:if(a=t.sent,!n){t.next=8;break}return t.abrupt("return");case 8:if(200!==a.status){t.next=15;break}return t.next=11,a.json();case 11:this.state.data=t.sent.result,"FINISHED"==this.state.data.contest.phase?this.state.needRetry=!1:this.state.needRetry=!0,t.next=16;break;case 15:this.state.needRetry=!1;case 16:this.state.loading=!1,this.forceUpdate();case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){try{var t=this.props,e=t.match.params.contestID,n=t.location.search.match("url=(.+)")[1];null!=e&&null!=n&&(this.state.contestID=e,this.state.filterUrl=n),console.log("state set",this.state.contestID,this.state.filterUrl)}catch(a){console.log("couldn't read params",a)}if(null==this.state.data)return 0==this.state.loading?Object(x.jsxs)("div",{children:[Object(x.jsx)(N,{contestID:this.state.contestID,url:this.state.filterUrl}),Object(x.jsx)("div",{className:"stopped",children:Object(x.jsx)("p",{children:"Not Available! "})})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)(N,{contestID:this.state.contestID,url:this.state.filterUrl}),Object(x.jsxs)("div",{className:"loading",children:[Object(x.jsx)(p.a,{style:{width:"100px",height:"100px"},animation:"border",role:"status",children:Object(x.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(x.jsx)("p",{children:"Constructing Ranklist..."})]})]});var s=this.state.data;return Object(x.jsxs)("div",{children:[Object(x.jsx)(N,{contestID:this.state.contestID,url:this.state.filterUrl}),"FINISHED"==s.contest.phase&&Object(x.jsx)("img",{src:U,className:"App-logo",alt:"logo"}),"FINISHED"!=s.contest.phase&&Object(x.jsx)("img",{src:U,className:"App-logo-animate",alt:"logo"}),Object(x.jsx)("div",{className:"con-tittle",children:s.contest.name}),Object(x.jsx)("div",{className:"ranklist",children:Object(x.jsxs)(f.a,{variant:"dark",size:"sm",responsive:"sm",striped:"true",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{style:{"text-align":"left"},children:"#"}),Object(x.jsx)("th",{style:{"text-align":"left"},children:"Rank"}),Object(x.jsx)("th",{style:{"text-align":"left"},children:"Handle"}),Object(x.jsx)("th",{children:"Points"}),Object(x.jsx)("th",{style:{"text-align":"left"},children:" "}),s.problems.map((function(t){return Object(x.jsx)("th",{children:t.index})}))]})}),Object(x.jsx)("tbody",{children:s.rows.map((function(t,e){return Object(x.jsx)(O,{rowid:e+1,data:t},e)}))})]})})]})}},{key:"repeatedWork",value:function(){var t=Object(h.a)(o.a.mark((function t(){var e=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.state.loading=!0,t.abrupt("return",C(this.state.filterUrl).then((function(t){return console.log("users",t),e.actionFetchRanks(t)})).catch((function(t){return alert(t)})));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setRefreshIfNecessary",value:function(){var t=Object(h.a)(o.a.mark((function t(){var e=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.repeatedWork();case 2:this.state.needRetry&&(this.interval=setInterval((function(){e.repeatedWork()}),3e4));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setRefreshIfNecessary().then()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}}]),n}(a.a.Component),A=n(6);var E=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)("header",{className:"App-header",children:Object(x.jsx)(D.a,{children:Object(x.jsx)("div",{children:Object(x.jsxs)(A.c,{children:[Object(x.jsx)(A.a,{path:"/contest/:contestID",render:function(t){return Object(s.createElement)(L,Object(i.a)(Object(i.a)({},t),{},{key:Math.random().toString(36)}))}}),Object(x.jsx)(A.a,{path:"/",component:L})]})})})})})},H=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(e){var n=e.getCLS,s=e.getFID,a=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),s(t),a(t),r(t),c(t)}))};c.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(E,{})}),document.getElementById("root")),H()}},[[55,1,2]]]);
//# sourceMappingURL=main.574f3794.chunk.js.map