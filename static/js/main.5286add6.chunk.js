(this["webpackJsonpcf-rank"]=this["webpackJsonpcf-rank"]||[]).push([[0],{53:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),a=n(26),c=n.n(a),i=(n(53),n(54),n(8)),o=n(12),l=n(13),h=n(15),u=n(14),d=n(10),j=n.n(d),p=n(18),b=n(71),f=n(72),O=(n(56),n(1));function x(e){var t=e.data,n=e.rowid;return null==t?Object(O.jsx)("tr",{children:Object(O.jsx)("td",{children:"called with null"})}):Object(O.jsxs)("tr",{className:"rank-font",children:[Object(O.jsx)("td",{style:{"text-align":"left"},children:Object(O.jsx)("span",{className:"hash-rank",children:n})}),Object(O.jsx)("td",{style:{"text-align":"center"},children:t.rank}),Object(O.jsx)("td",{style:{"text-align":"left"},children:t.party.members.map((function(e){return e.handle+" "}))}),Object(O.jsx)("td",{children:t.points}),Object(O.jsx)("td",{}),t.problemResults.map((function(e){return Object(O.jsxs)("td",{children:[Object(O.jsxs)("span",{className:"cell-points",children:[e.points>0&&e.points,"  ",Object(O.jsx)("span",{className:"cell-rejected",children:e.rejectedAttemptCount>0&&-e.rejectedAttemptCount})]}),Object(O.jsx)("span",{className:"cell-time",children:e.bestSubmissionTimeSeconds&&new Date(1e3*e.bestSubmissionTimeSeconds).toISOString().substr(11,8)})]})}))]})}var m=n(23),v=n(75),g=n(43),y=n(42),k=n(70),I=n(73),N=n(74),C=n(22);n(58);function w(e,t){for(var n=e.substring(1).split("&"),s=0;s<n.length;s++){var r=n[s].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}return""}function D(e){var t=w(e.location.search,"handles");return t.length>0&&";"!=t.slice(-1)&&(t+=";"),{url:w(e.location.search,"url"),contestID:e.match.params.contestID,handles:t}}function R(e,t){var n=D(e),s=D(t);return null!==n&&null!==s&&n.url===s.url&&n.contestID===s.contestID&&n.handles===s.handles}function S(e,t,n,s){var r=e;return r.length>0&&"/"!=r.slice(-1)&&(r+="/"),t||(t=1541),r=r+t+"?",""!==n&&(r=r+"url="+n+"&"),""!==s&&(r=r+"handles="+s+"&"),r.length>0&&"&"===r.slice(-1)&&(r=r.slice(0,-1)),r}function F(e){var t=e.url,n=e.contestID,r=e.handles,a=Object(s.useState)(t),c=Object(m.a)(a,2),i=c[0],o=c[1],l=Object(s.useState)(n),h=Object(m.a)(l,2),u=h[0],d=h[1],j=Object(s.useState)(r),p=Object(m.a)(j,2),b=p[0],f=p[1];console.log("Nav-props",e);var x=Object(O.jsx)("div",{className:"input-url",children:Object(O.jsx)(v.a,{children:Object(O.jsxs)(v.a.Row,{className:"align-items-center",children:[Object(O.jsxs)(g.a,{xs:"auto",children:[Object(O.jsx)(v.a.Label,{htmlFor:"inlineFormInput",srOnly:!0,children:"Handles"}),Object(O.jsx)(y.a,{size:"sm",className:"mb-0 org-field",id:"inlineFormInput",placeholder:"handles seperated by ;",defaultValue:r,onChange:function(e){return f(e.target.value)}})]}),Object(O.jsxs)(g.a,{xs:"auto",children:[Object(O.jsx)(v.a.Label,{htmlFor:"inlineFormInput",srOnly:!0,children:"URL"}),Object(O.jsx)(y.a,{size:"sm",className:"mb-0 org-field",id:"inlineFormInput",placeholder:"city/organization cf url",defaultValue:t,onChange:function(e){return o(e.target.value)}})]}),Object(O.jsxs)(g.a,{xs:"auto",children:[Object(O.jsx)(v.a.Label,{htmlFor:"inlineFormInput2",srOnly:!0,children:"ContestID"}),Object(O.jsx)(y.a,{size:"sm",className:"mb-0 contestID-field",id:"inlineFormInput2",placeholder:"ContestID",value:u,onChange:function(e){d(e.target.value)}})]}),Object(O.jsx)(g.a,{xs:"auto",children:Object(O.jsx)(C.b,{to:S("/contest/",u,i,b),children:Object(O.jsx)(k.a,{type:"submit",className:"mb-0 btn-light",size:"sm",children:"Load"})})})]})},t+n)});return Object(O.jsx)("div",{children:Object(O.jsxs)(I.a,{bg:"dark",variant:"dark",className:"navbar-expand-sm",children:[Object(O.jsxs)(N.a,{className:"mr-auto",children:[Object(O.jsx)(N.a.Link,{href:S("#selector/contests/",u,i,b),active:e.location.pathname.startsWith("/selector/contests"),children:"Contests"}),Object(O.jsx)(N.a.Link,{disabled:!0,active:e.location.pathname.startsWith("/contest"),children:"Ranklist"})]}),x]})})}var L=n(47),E=n(48),A="https://be-beam.swiftshopbd.com/";function M(e){return P.apply(this,arguments)}function P(){return(P=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(A+t,{"X-Requested-With":"cf"}).then((function(e){return e.text()})).then((function(e){var t,n=(new DOMParser).parseFromString(e,"text/html").querySelector("#pageContent > div.datatable.ratingsDatatable").innerHTML,s=Object(E.a)(n.matchAll('/profile/(.+?)"')),r="",a=Object(L.a)(s);try{for(a.s();!(t=a.n()).done;){var c=t.value;r=r.concat(c[1]+";")}}catch(i){a.e(i)}finally{a.f()}return r})).catch((function(e){console.log("Failed to fetch page: ",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(41),n(65);var T=n.p+"static/media/logo.6ce24c58.svg",U=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e))._isMounted=!1,s.state={data:null,loading:!0,needRetry:!0,failed:!1,handles:s.props.handles,handlesParsed:"",renderCount:0},s}return Object(l.a)(n,[{key:"actionFetchRanks",value:function(){var e=Object(p.a)(j.a.mark((function e(t){var n,s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,s="https://codeforces.com/api"+("/contest.standings?contestId="+this.props.contestID+"&handles=")+t,console.log("Fetching",s),e.next=5,fetch(s).catch((function(e){console.log(e),n=!0}));case 5:if(r=e.sent,!n){e.next=8;break}return e.abrupt("return");case 8:if(200!==r.status){e.next=15;break}return e.next=11,r.json();case 11:this.state.data=e.sent.result,"FINISHED"==this.state.data.contest.phase?this.state.needRetry=!1:this.state.needRetry=!0,e.next=16;break;case 15:this.state.needRetry=!1;case 16:this.state.loading=!1,this._isMounted&&this.setState({renderCount:this.state.renderCount+1});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(null==this.state.data)return 0==this.state.loading?Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"stopped",children:[Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("p",{children:"Not Available! "})]})}):Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"loading",children:[Object(O.jsx)(b.a,{style:{width:"100px",height:"100px"},animation:"border",role:"status",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(O.jsx)("p",{children:"Constructing Ranklist..."})]})});var e=this.state.data;return Object(O.jsxs)("div",{children:["FINISHED"==e.contest.phase&&Object(O.jsx)("img",{src:T,className:"App-logo",alt:"logo"}),"FINISHED"!=e.contest.phase&&Object(O.jsx)("img",{src:T,className:"App-logo-animate",alt:"logo"}),Object(O.jsx)("div",{className:"con-tittle",children:e.contest.name}),Object(O.jsx)("div",{className:"ranklist",children:Object(O.jsxs)(f.a,{variant:"dark",size:"sm",responsive:"sm",striped:!0,bordered:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{"text-align":"left"},children:Object(O.jsx)("span",{className:"hash-rank",children:"#"})}),Object(O.jsx)("th",{style:{"text-align":"center"},children:"Rank"}),Object(O.jsx)("th",{style:{"text-align":"left"},children:"Handle"}),Object(O.jsx)("th",{children:"Points"}),Object(O.jsx)("th",{style:{"text-align":"left"},children:" "}),e.problems.map((function(e){return Object(O.jsx)("th",{children:e.index})}))]})}),Object(O.jsx)("tbody",{children:e.rows.map((function(e,t){return Object(O.jsx)(x,{rowid:t+1,data:e},t)}))})]})})]})}},{key:"resolveHandles",value:function(){var e=Object(p.a)(j.a.mark((function e(){var t=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.loading=!0,e.abrupt("return",M(this.props.url).then((function(e){console.log("users",e),t.setState({handlesParsed:e})})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setRefreshIfNecessary",value:function(){var e=Object(p.a)(j.a.mark((function e(){var t=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""!==this.state.handles&&this.actionFetchRanks(this.state.handles),e.next=3,this.resolveHandles();case 3:this.state.needRetry&&(this.interval=setInterval((function(){t.resolveHandles()}),6e4),this.interval=setInterval((function(){t.actionFetchRanks(t.state.handles+t.state.handlesParsed)}),3e4));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setRefreshIfNecessary().then(),this._isMounted=!0}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),this._isMounted=!1}},{key:"shouldComponentUpdate",value:function(e,t){return t.renderCount!=this.state.renderCount||(t.handles!=this.state.handles||t.handlesParsed!=this.state.handlesParsed)&&(this.actionFetchRanks(t.handles+t.handlesParsed),!1)}}]),n}(r.a.Component),H=(n(66),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"layout-header",children:Object(O.jsx)(F,Object(i.a)({},this.props),this.props.contestID+this.props.url)}),Object(O.jsx)("div",{className:"App-Container",children:this.props.children}),Object(O.jsx)("div",{className:"footer"})]})}}]),n}(r.a.Component)),z=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!R(e,this.props)}},{key:"render",value:function(){console.log("rank-layout-rendering",this.props);var e=D(this.props),t=e.url,n=e.contestID,s=e.handles;return Object(O.jsx)("div",{children:Object(O.jsx)(H,Object(i.a)(Object(i.a)(Object(i.a)({},this.props),D(this.props)),{},{children:Object(O.jsx)(U,Object(i.a)(Object(i.a)({},this.props),D(this.props)),"rank-list"+t+n+s)}),"rank-list-layout")})}}]),n}(r.a.Component),W=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){if(console.log("rendering-row",this.props),null==this.props.data)return Object(O.jsx)("tr",{children:Object(O.jsx)("td",{children:"called with null"})});var e=this.props.data;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{textalign:"left",children:e.name}),Object(O.jsx)("td",{textalign:"left",children:e.id}),Object(O.jsx)("td",{children:Object(O.jsx)(C.b,{to:S("/selector/contests/",e.id,this.props.url,this.props.handles),children:Object(O.jsx)("p",{ref:this.props.innerRef,children:this.props.selected?"SELECTED":"select"})})})]})}},{key:"shouldComponentUpdate",value:function(e,t){return null===e||null===this.props||e.selected!==this.props.selected}}]),n}(r.a.Component),B=r.a.forwardRef((function(e,t){return Object(O.jsx)(W,Object(i.a)({innerRef:t},e))})),_=(n(67),function(e){return"/contest.list?gym="+e});function V(e){var t=e.searchStr,n=e.children;return r.a.Children.toArray(n).filter((function(e){return!t||""==t||e.props.data.name.toLowerCase().includes(t.toLowerCase())}))}var q=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).selectRef=[],s.refID={},s.state={data:null,loading:!0,needRetry:!0,failed:!1,searchStr:""},s}return Object(l.a)(n,[{key:"actionFetchContests",value:function(){var e=Object(p.a)(j.a.mark((function e(t){var n,s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,s="https://codeforces.com/api"+_(t),console.log("Fetching Contests",s),e.next=5,fetch(s).catch((function(e){console.log(e),n=!0}));case 5:if(r=e.sent,!n){e.next=8;break}return e.abrupt("return");case 8:if(200!==r.status){e.next=14;break}return e.next=11,r.json();case 11:this.state.data=e.sent.result,e.next=14;break;case 14:this.state.loading=!1,this.forceUpdate();case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(null===this.state.data)return!1===this.state.loading?Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"stopped",children:Object(O.jsx)("p",{children:"Not Available! "})})}):Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"loading",children:[Object(O.jsx)(b.a,{style:{width:"100px",height:"100px"},animation:"border",role:"status",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(O.jsx)("p",{children:"Parsing Contests..."})]})});var t=this.state.data;return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"contests",children:Object(O.jsxs)(f.a,{variant:"dark",size:"sm",responsive:"sm",striped:"true",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Contest Tittle"}),Object(O.jsx)("th",{children:"ID"}),Object(O.jsx)("th",{children:Object(O.jsx)(y.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",textalign:"right",placeholder:"Filter by Tittle",defaultValue:this.state.searchStr,onMouseMove:function(t){if(e.state.searchStr!=t.target.value)return e.setState({searchStr:t.target.value})}})})]})}),Object(O.jsx)("tbody",{children:Object(O.jsx)(V,{searchStr:this.state.searchStr,children:t.map((function(t,n){if("BEFORE"!==t.phase)return t.id in e.refID||(e.selectRef.push(r.a.createRef()),e.refID[t.id]=e.selectRef.length-1),Object(O.jsx)(B,{ref:e.selectRef[e.refID[t.id]],data:t,url:e.props.url,handles:e.props.handles,selected:t.id==e.props.contestID},n)}))},"search-str"+this.state.searchStr)})]},"contests-table")},"contests-div")},"contests-list-div")}},{key:"repeatedWork",value:function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.loading=!0,e.abrupt("return",this.actionFetchContests(!1).then((function(e){console.log("contests-data",e)})).catch((function(e){return alert(e)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setRefreshIfNecessary",value:function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.repeatedWork();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setRefreshIfNecessary().then()}},{key:"componentWillUnmount",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t){if(null!=e&&(e.url!=this.props.url||e.contestID!=this.props.contestID)){try{this.selectRef[this.refID[Number(e.contestID)]].current.innerText="SELECTED",this.selectRef[this.refID[Number(this.props.contestID)]].current.innerText="select"}catch(n){}return!1}return!(!t||t.searchStr==this.state.searchStr)}}]),n}(r.a.Component),J=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!R(e,this.props)}},{key:"render",value:function(){return console.log("con-layout-rendering",this.props),Object(O.jsx)("div",{children:Object(O.jsx)(H,Object(i.a)(Object(i.a)(Object(i.a)({},this.props),D(this.props)),{},{children:Object(O.jsx)(q,Object(i.a)(Object(i.a)({},this.props),D(this.props)),"con-list")}),"con-list-layout")})}}]),n}(r.a.Component),X=n(6);function G(){return Object(O.jsx)(C.a,{children:Object(O.jsx)("div",{className:"Switch-Route-Block",children:Object(O.jsxs)(X.d,{children:[Object(O.jsx)(X.b,{path:"/selector/contests/:contestID",render:function(e){return Object(O.jsx)(J,Object(i.a)({},e),"contest-list-layout")}},"route-contest-list"),Object(O.jsx)(X.b,{path:"/contest/:contestID",render:function(e){return Object(O.jsx)(z,Object(i.a)({},e),"single-rank-instance")}},"route-rank-list"),Object(O.jsx)(X.a,{from:"/",to:"/contest/1541?url=https://codeforces.com/ratings/organization/3403",component:J})]},"switch-route-sw")},"switch-route-block")},"hash-router")}var K=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)("header",{className:"App-header",children:Object(O.jsx)(G,{},"app-conatiner")})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))};c.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(K,{})}),document.getElementById("root")),Q()}},[[68,1,2]]]);
//# sourceMappingURL=main.5286add6.chunk.js.map